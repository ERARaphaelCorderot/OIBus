"use strict";(self.webpackChunkdoc_oibus=self.webpackChunkdoc_oibus||[]).push([[7170],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>d});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o=r.createContext({}),u=function(e){var t=r.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(o.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=u(n),d=a,f=c["".concat(o,".").concat(d)]||c[d]||m[d]||i;return n?r.createElement(f,l(l({ref:t},p),{},{components:n})):r.createElement(f,l({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,l=new Array(i);l[0]=c;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:a,l[1]=s;for(var u=2;u<i;u++)l[u]=n[u];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},4335:(e,t,n)=>{n.d(t,{ZP:()=>l});var r=n(7462),a=(n(7294),n(3905));const i={toc:[{value:"CSV Serialization",id:"csv-serialization",level:3},{value:"Splitting large queries",id:"splitting-large-queries",level:2}]};function l(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},i,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h3",{id:"csv-serialization"},"CSV Serialization"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Filename: The name of the file where the result will be stored. Several internal variable can be used:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"@ConnectorName: The name of the connector."),(0,a.kt)("li",{parentName:"ul"},"@CurrentDate: The current date in yyyy_MM_dd_HH_mm_ss_SSS format."))),(0,a.kt)("li",{parentName:"ul"},"Delimiter: The delimiter to use in the CSV."),(0,a.kt)("li",{parentName:"ul"},"Compression: Compress the file with gunzip or not."),(0,a.kt)("li",{parentName:"ul"},"Output datetime format: The format of the datetime in the CSV. OIBus will only convert the\n",(0,a.kt)("a",{parentName:"li",href:"#datetime-fields"},"datetime fields")," specified."),(0,a.kt)("li",{parentName:"ul"},"Output timezone: The timezone to use to store the datetime.")),(0,a.kt)("h2",{id:"splitting-large-queries"},"Splitting large queries"),(0,a.kt)("p",null,"In some cases, a query can be quite heavy for the server, especially if a large time interval is requested. If\n@StartTime and @EndTime ",(0,a.kt)("a",{parentName:"p",href:"#query-variables"},"query variables")," are used, the query can be split in several sub-queries\nwith smaller intervals using the ",(0,a.kt)("strong",{parentName:"p"},"Max read interval")," field of ",(0,a.kt)("a",{parentName:"p",href:"/docs/next/guide/south-connectors/common-settings#history-settings"},"history settings"),"."))}l.isMDXComponent=!0},9625:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>c,frontMatter:()=>l,metadata:()=>o,toc:()=>p});var r=n(7462),a=(n(7294),n(3905)),i=n(4335);const l={sidebar_position:12},s="SLIM (Rest API)",o={unversionedId:"guide/south-connectors/slims",id:"guide/south-connectors/slims",title:"SLIM (Rest API)",description:"Send HTTP queries to a SLIMS application.",source:"@site/docs/guide/south-connectors/slims.mdx",sourceDirName:"guide/south-connectors",slug:"/guide/south-connectors/slims",permalink:"/docs/next/guide/south-connectors/slims",draft:!1,tags:[],version:"current",sidebarPosition:12,frontMatter:{sidebar_position:12},sidebar:"guideSidebar",previous:{title:"Oracle",permalink:"/docs/next/guide/south-connectors/oracle"},next:{title:"OIAnalytics (Rest API)",permalink:"/docs/next/guide/south-connectors/oianalytics"}},u={},p=[{value:"Specific settings",id:"specific-settings",level:2},{value:"Item settings",id:"item-settings",level:2},{value:"Body and query params",id:"body-and-query-params",level:3},{value:"Query variables",id:"query-variables",level:4},{value:"Datetime fields",id:"datetime-fields",level:3}],m={toc:p};function c(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"slim-rest-api"},"SLIM (Rest API)"),(0,a.kt)("p",null,"Send HTTP queries to a SLIMS application."),(0,a.kt)("h2",{id:"specific-settings"},"Specific settings"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"URL"),": the address of the SLIMS application"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Port"),": the port the application listen to"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Username"),": the username used for authentication"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Password"),": the password used for authentication"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Use proxy"),": Pass the request through a proxy"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Accept unauthorized certificate"),": Accept certificates even if outdated or selfsigned")),(0,a.kt)("h2",{id:"item-settings"},"Item settings"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Endpoint"),": The endpoint where to send the HTTP request."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Request timeout"),": Time to wait before the HTTP request fails.")),(0,a.kt)("h3",{id:"body-and-query-params"},"Body and query params"),(0,a.kt)("p",null,"The body field accept JSON syntax and can use several internal variables. These variables are useful for data stream\nresilience on connection failure, and to cut big intervals into smaller chunks, reducing the load on the serve and network\n(see ",(0,a.kt)("a",{parentName:"p",href:"#splitting-large-queries"},"the big queries section"),")."),(0,a.kt)("p",null,"The query params field is a key / value array and can use the same interval variables."),(0,a.kt)("h4",{id:"query-variables"},"Query variables"),(0,a.kt)("p",null,"Several OIBus variables can be used and will be interpreted by OIBus."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"@StartTime"),": The @StartTime variable initially takes the date of the first execution of the query. When results are\nretrieved from the database, @StartTime value is set to the most recent timestamp among those results in the field used\nas reference (see ",(0,a.kt)("a",{parentName:"li",href:"#datetime-fields"},"the datetime fields section"),")."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"@EndTime"),": The @EndTime variable is set to the current time (",(0,a.kt)("em",{parentName:"li"},"now()"),") or to the end of the sub-interval if a query is split.")),(0,a.kt)("p",null,"Example on endpoint ",(0,a.kt)("inlineCode",{parentName:"p"},"/slimsrest/rest/Result/advanced")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "criteria": {\n        "operator": "and",\n        "criteria": [\n            {\n                "fieldName": "rslt_fk_status",\n                "operator": "equals",\n                "value": 14\n            },\n            {\n                "fieldName": "rslt_cf_pid",\n                "operator": "notNull"\n            },\n            {\n                "fieldName": "rslt_cf_samplingDateAndTime",\n                "operator": "notNull"\n            },\n            {\n                "fieldName": "rslt_modifiedOn",\n                "operator": "between",\n                "start": @StartTime,\n                "end": @EndTime\n            }\n        ]\n    },\n    "sortBy": [\n        "rslt_modifiedOn"\n    ]\n}\n')),(0,a.kt)("h3",{id:"datetime-fields"},"Datetime fields"),(0,a.kt)("p",null,"You can specify in this array which fields are a datetime type, and which format to use."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Field name"),": The field name in the HTTP payload result."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Reference field"),": Use this field as reference for the next @StartTime value (see ",(0,a.kt)("a",{parentName:"li",href:"#query-variables"},"query variables"),")."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type"),": The type of the data in the result."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Timezone")," (for string only): The timezone of the datetime stored in the\ndatabase."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Format")," (for string only): The string format of the datetime retrieved."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Locale")," (for string only): The locale to use when the format contains locale specific string (such as MMM format for\nmonths).")),(0,a.kt)("p",null,"OIBus will internally use these dates in ISO UTC format. The output datetime format can be set in the\n",(0,a.kt)("a",{parentName:"p",href:"#serialization"},"serialization section"),"."),(0,a.kt)(i.ZP,{mdxType:"SerializationSettings"}))}c.isMDXComponent=!0}}]);