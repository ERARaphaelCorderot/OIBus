<!doctype html>
<html lang="fr" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-guide/advanced/oibus-to-oibus">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">OIBus to OIBus communication | OIBus - Data collection solution</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://oibus.optimistik.com//fr/docs/guide/advanced/oibus-to-oibus"><meta data-rh="true" name="docusaurus_locale" content="fr"><meta data-rh="true" name="docsearch:language" content="fr"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="OIBus to OIBus communication | OIBus - Data collection solution"><meta data-rh="true" name="description" content="Context"><meta data-rh="true" property="og:description" content="Context"><link data-rh="true" rel="icon" href="/fr/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://oibus.optimistik.com//fr/docs/guide/advanced/oibus-to-oibus"><link data-rh="true" rel="alternate" href="https://oibus.optimistik.com//docs/guide/advanced/oibus-to-oibus" hreflang="en"><link data-rh="true" rel="alternate" href="https://oibus.optimistik.com//fr/docs/guide/advanced/oibus-to-oibus" hreflang="fr"><link data-rh="true" rel="alternate" href="https://oibus.optimistik.com//docs/guide/advanced/oibus-to-oibus" hreflang="x-default"><link rel="stylesheet" href="/fr/assets/css/styles.c37b7ee3.css">
<link rel="preload" href="/fr/assets/js/runtime~main.2cdfa30b.js" as="script">
<link rel="preload" href="/fr/assets/js/main.28fd0fa6.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Aller au contenu principal"><a href="#" class="skipToContent_fXgn">Aller au contenu principal</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/fr/"><div class="navbar__logo"><img src="/fr/img/logo.svg" alt="OIBus Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/fr/img/logo.svg" alt="OIBus Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">OIBus</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/fr/docs/guide/">Documentation</a><a class="navbar__item navbar__link" href="/fr/docs/developer/">Developer</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/OptimistikSAS/OIBus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-label="Basculer entre le mode sombre et clair (actuellement mode clair)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Retour au début de la page" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fr/docs/guide/">Main concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fr/docs/guide/installation">Installation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/fr/docs/category/engine">Engine</a><button aria-label="Plier/Déplier la catégorie &#x27;Engine&#x27; de la barre latérale" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/fr/docs/category/south-connectors">South connectors</a><button aria-label="Plier/Déplier la catégorie &#x27;South connectors&#x27; de la barre latérale" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/fr/docs/category/north-connectors">North connectors</a><button aria-label="Plier/Déplier la catégorie &#x27;North connectors&#x27; de la barre latérale" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/fr/docs/category/advanced">Advanced</a><button aria-label="Plier/Déplier la catégorie &#x27;Advanced&#x27; de la barre latérale" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/guide/advanced/oibus-security">OIBus security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/fr/docs/guide/advanced/oibus-to-oibus">OIBus to OIBus communication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/guide/advanced/oibus-data-rate">Data rate estimation and cache sizing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/guide/advanced/opchda-dcom">OPCHDA COM/DCOM setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/guide/advanced/opchda-agent">OPCHDA agent</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Fil d&#x27;Ariane"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Page d&#x27;accueil" class="breadcrumbs__link" href="/fr/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/fr/docs/category/advanced"><span itemprop="name">Advanced</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">OIBus to OIBus communication</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Sur cette page</button></div><div class="theme-doc-markdown markdown"><h1>OIBus to OIBus communication</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="context">Context<a class="hash-link" href="#context" title="Lien direct vers le titre">​</a></h2><p>Sometimes, PLCs or databases are only accessible in a private network. Let&#x27;s call it the <strong>industrial network</strong>. This
network often exists inside or beside another network ; let&#x27;s call it the <strong>office network</strong>.
Two options exist to access these data:</p><ul><li>Allow connections to each data source from the OIBus machine (which is in the office network, outside the industrial
network) through the firewall</li><li>Install one OIBus in the industrial network and one OIBus in the office network.Manage a single communication between
the two networks.</li></ul><p>The first option is acceptable if you have only one machine on which to install OIBus, but it involves more network
settings to manage and risk the exposing of your machines.
The second option is preferable. Indeed, the first OIBus in the industrial network - OIBus1 - can access the machine in
the same network, and send data to the office network through a single connection allowed in the firewall (from OIBus1
to OIBus2).</p><p>Let&#x27;s see how to set up this communication.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="data">Data<a class="hash-link" href="#data" title="Lien direct vers le titre">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="set-up-a-north-connector-oiconnect-in-oibus1">Set up a North connector OIConnect in OIBus1<a class="hash-link" href="#set-up-a-north-connector-oiconnect-in-oibus1" title="Lien direct vers le titre">​</a></h3><p>OIConnect is very useful when one OIBus has no internet access (because it is isolated in an industrial network) but
can communicate to another OIBus which is in another network with internet access.</p><p>In this case, let&#x27;s keep the default endpoints <code>/engine/addValues</code> and <code>/engine/addFile</code> for values and file endpoints
respectively.
The host could be something like <code>http://1.2.3.4:2223</code> where 1.2.3.4 is the IP address and 2223 is the port of the
second OIBus. Be careful to authorize remote connection in the second OIBus Engine settings in the
<a href="/fr/docs/guide/engine/access">IP Filter section</a> and to use the appropriate username and password (using Basic
Authentication). In this case, the OIBus username and password must be used (by default, admin and pass).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="set-up-an-external-source-in-oibus2">Set up an External source in OIBus2<a class="hash-link" href="#set-up-an-external-source-in-oibus2" title="Lien direct vers le titre">​</a></h3><p>On the second OIBus, if you have a North connector with no subscription, the data will automatically be sent to the
North.</p><p>However, if you want a North to subscribe to a specific external source, you must declare an additional external source
in the <a href="/fr/docs/guide/engine/external-sources">Engine settings</a>. Its name must follow the syntax of the <a href="/fr/docs/guide/north-connectors/oiconnect#query-param">name query
param</a>, for example <code>MyOIBus:MyOIConnect</code>.</p><p>The North connector can now subscribe to this specific external source.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="logs">Logs<a class="hash-link" href="#logs" title="Lien direct vers le titre">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="loki-through-another-oibus">Loki through another OIBus<a class="hash-link" href="#loki-through-another-oibus" title="Lien direct vers le titre">​</a></h3><p>To send logs to OIBus2, go to the Engine page in the <em>Loki logs</em> section, and specify the OIBus2 address in the
<strong>Host</strong> field and its associated endpoint. For example: <code>http://1.2.3.4:2223/logs</code>.
OIBus2 uses Basic Auth. Keep empty the token address field and fill the username and password used to connect to OIBus2. </p><p>If the loki level set in OIBus1 is <strong>info</strong>, only info and above levels will be sent to OIBus2. In OIBus2, if the
console and file levels are set to <strong>error</strong>, only error levels will be logged on the console and
file. However, if the loki level is set to <strong>info</strong> too, all the logs received from OIBus1 will be sent to this loki
endpoint.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="health-signal">Health Signal<a class="hash-link" href="#health-signal" title="Lien direct vers le titre">​</a></h2><p>When the health signal is triggered through the logs, it follows the logic when sending logs to loki. Nothing else
has to be done.</p><p>When the health signal is triggered though an HTTP request, it can be sent to OIBus2 to be forwarded to its own HTTP
health signal. If the OIBus2 HTTP health signal is disabled, the OIBus1 signal will only be stored in OIBus2 logs but
not forwarded to another HTTP endpoint.</p><p>The endpoint to use for HTTP health signal to another OIBus is <code>/engine/aliveSignal</code>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Pagination des documents"><a class="pagination-nav__link pagination-nav__link--prev" href="/fr/docs/guide/advanced/oibus-security"><div class="pagination-nav__sublabel">Précédent</div><div class="pagination-nav__label">OIBus security</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/fr/docs/guide/advanced/oibus-data-rate"><div class="pagination-nav__sublabel">Suivant</div><div class="pagination-nav__label">Data rate estimation and cache sizing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#context" class="table-of-contents__link toc-highlight">Context</a></li><li><a href="#data" class="table-of-contents__link toc-highlight">Data</a><ul><li><a href="#set-up-a-north-connector-oiconnect-in-oibus1" class="table-of-contents__link toc-highlight">Set up a North connector OIConnect in OIBus1</a></li><li><a href="#set-up-an-external-source-in-oibus2" class="table-of-contents__link toc-highlight">Set up an External source in OIBus2</a></li></ul></li><li><a href="#logs" class="table-of-contents__link toc-highlight">Logs</a><ul><li><a href="#loki-through-another-oibus" class="table-of-contents__link toc-highlight">Loki through another OIBus</a></li></ul></li><li><a href="#health-signal" class="table-of-contents__link toc-highlight">Health Signal</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/fr/docs/guide/">User Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/fr/docs/developer/">Developer Guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/showcase/oibus-by-optimistik" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/OptimistikSAS/OIBus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Optimistik. Built with Docusaurus.</div></div></div></footer></div>
<script src="/fr/assets/js/runtime~main.2cdfa30b.js"></script>
<script src="/fr/assets/js/main.28fd0fa6.js"></script>
</body>
</html>