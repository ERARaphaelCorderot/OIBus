<!doctype html>
<html lang="fr" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-guide/south-connectors/opchda">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">OPCHDA (Windows only) | OIBus - Data collection solution</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://oibus.optimistik.com//fr/docs/guide/south-connectors/opchda"><meta data-rh="true" name="docusaurus_locale" content="fr"><meta data-rh="true" name="docsearch:language" content="fr"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="OPCHDA (Windows only) | OIBus - Data collection solution"><meta data-rh="true" name="description" content="OPCDA and OPCHDA are communication protocols used in the industrial world and developed by the"><meta data-rh="true" property="og:description" content="OPCDA and OPCHDA are communication protocols used in the industrial world and developed by the"><link data-rh="true" rel="icon" href="/fr/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://oibus.optimistik.com//fr/docs/guide/south-connectors/opchda"><link data-rh="true" rel="alternate" href="https://oibus.optimistik.com//docs/guide/south-connectors/opchda" hreflang="en"><link data-rh="true" rel="alternate" href="https://oibus.optimistik.com//fr/docs/guide/south-connectors/opchda" hreflang="fr"><link data-rh="true" rel="alternate" href="https://oibus.optimistik.com//docs/guide/south-connectors/opchda" hreflang="x-default"><link rel="stylesheet" href="/fr/assets/css/styles.24f038a3.css">
<link rel="preload" href="/fr/assets/js/runtime~main.8b2aa1e1.js" as="script">
<link rel="preload" href="/fr/assets/js/main.b09d7cce.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Aller au contenu principal"><a href="#" class="skipToContent_fXgn">Aller au contenu principal</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/fr/"><div class="navbar__logo"><img src="/fr/img/logo.svg" alt="OIBus Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/fr/img/logo.svg" alt="OIBus Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">OIBus</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/fr/docs/guide/">Documentation</a><a class="navbar__item navbar__link" href="/fr/docs/developer/">Developer</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/OptimistikSAS/OIBus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-label="Basculer entre le mode sombre et clair (actuellement mode clair)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Retour au début de la page" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fr/docs/guide/">Main concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fr/docs/guide/installation">Installation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/fr/docs/category/engine">Engine</a><button aria-label="Plier/Déplier la catégorie &#x27;Engine&#x27; de la barre latérale" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/fr/docs/category/south-connectors">South connectors</a><button aria-label="Plier/Déplier la catégorie &#x27;South connectors&#x27; de la barre latérale" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/guide/south-connectors/common-settings">Common South settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/guide/south-connectors/sql">SQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/guide/south-connectors/folder-scanner">Folder Scanner</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/guide/south-connectors/opcua">OPCUA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/fr/docs/guide/south-connectors/opchda">OPCHDA (Windows only)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/guide/south-connectors/modbus">Modbus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/guide/south-connectors/ads">ADS - TwinCAT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/guide/south-connectors/mqtt">MQTT</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/fr/docs/category/north-connectors">North connectors</a><button aria-label="Plier/Déplier la catégorie &#x27;North connectors&#x27; de la barre latérale" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/fr/docs/category/advanced">Advanced</a><button aria-label="Plier/Déplier la catégorie &#x27;Advanced&#x27; de la barre latérale" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Fil d&#x27;Ariane"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Page d&#x27;accueil" class="breadcrumbs__link" href="/fr/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/fr/docs/category/south-connectors"><span itemprop="name">South connectors</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">OPCHDA (Windows only)</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Sur cette page</button></div><div class="theme-doc-markdown markdown"><h1>OPCHDA (Windows only)</h1><p>OPCDA and OPCHDA are communication protocols used in the industrial world and developed by the
<a href="https://opcfoundation.org/" target="_blank" rel="noopener noreferrer">OPC Foundation</a>. This technology has been replaced by OPCUA but is still widely used in
the industry. To use OPCUA in OIBus, see the <a href="/fr/docs/guide/south-connectors/opcua">OPCUA connector documentation</a>.</p><p>An HDA server allows to retrieve the history of data over a more or less long period, while a DA server allows to
retrieve only the most recent value of a tag.</p><p>Only OPCHDA is supported by OIBus. OIBus uses an HDA agent, i.e. a module integrated to OIBus, but available in
standalone, to perform OPC history extractions in command line. See the
<a href="/fr/docs/guide/advanced/opchda-agent">OPCHDA agent documentation</a> to use the agent in standalone.</p><p>Both the OPCHDA connector and the standalone agent are available under Windows only and use Microsoft’s proprietary DCOM
technology to transfer information over the network. This technology is much more complex to set up than traditional TCP
communications. A dedicated guide is offered <a href="/fr/docs/guide/advanced/opchda-dcom">here</a> to correctly setup HDA communications
with COM/DCOM interfaces.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="opchda-connector">OPCHDA connector<a class="hash-link" href="#opchda-connector" title="Lien direct vers le titre">​</a></h2><p>OIBus uses a HDA agent, compiled for Windows platforms, to interact with COM/DCOM interfaces. The HDA agent can also be
used <a href="/fr/docs/guide/advanced/opchda-agent">in standalone</a>. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hda-agent-section">HDA Agent section<a class="hash-link" href="#hda-agent-section" title="Lien direct vers le titre">​</a></h3><p>OIBus exchanges commands and data with the HDA agent through a TCP server/client communication. Therefore, several
fields must be filled to make OIBus communicate with the HDA Agent:</p><ul><li><strong>Agent filename</strong>: the file path of the HDA Agent. By default, the HDA agent is in the same folder as the OIBus binary.</li><li><strong>TCP port</strong>: the TCP port that the HDA Agent will use to create its own TCP server. If you need two OPCHDA connectors,
be careful to have two distinct TCP ports to avoid conflicts.</li><li><strong>Logging level</strong>: the level of log the HDA Agent will use. If the HDA agent log level is lower than the OIBus log levels,
the lowest logs will be lost. See the <a href="/fr/docs/guide/engine/logging-parameters">Engine log section</a> to know more about logging parameters.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="connection-and-network">Connection and network<a class="hash-link" href="#connection-and-network" title="Lien direct vers le titre">​</a></h3><p>Some information are required to connect to the OPCHDA server:</p><ul><li><strong>Host</strong>: the hostname or its IP address</li><li><strong>Server name</strong>: the name of the OPCHDA server</li></ul><p>Several options are available to better manage network failure or inactivity:</p><ul><li><strong>Retry interval</strong>: in case of connection failure, time to wait before reconnecting (in ms)</li><li><strong>Max read interval</strong>: split the request interval into smaller chunks (in s)</li><li><strong>Read interval delay</strong>: time to wait (in ms) between two sub-intervals in case a split occurs (ignored otherwise)</li><li><strong>Max return values</strong>: max number of values to retrieve <strong>per node</strong>. If 100 nodes are requested, this value is
multiplied by 100 to have the total number of values retrieved.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="accessing-data">Accessing data<a class="hash-link" href="#accessing-data" title="Lien direct vers le titre">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="scan-groups">Scan groups<a class="hash-link" href="#scan-groups" title="Lien direct vers le titre">​</a></h4><p>OIBus retrieves data by intervals. It is then possible to aggregate these values or to resample them. To do so, a scan
mode must be selected (to create additional scan modes, see <a href="/fr/docs/guide/engine/scan-modes">Engine settings</a>), with its
associated aggregate and resampling options.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Creating scan groups</div><div class="admonitionContent_S0QG"><p>Creating scan groups is mandatory to choose them in the <em>Points</em> section when adding new points to request.</p></div></div><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Compatibility with the OPCUA server</div><div class="admonitionContent_S0QG"><p>Not every aggregate and resampling are supported by OPCUA server. <em>Raw</em> aggregate and <em>None</em> resampling are preferred to
avoid compatibility issues.</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="points-and-nodes">Points and nodes<a class="hash-link" href="#points-and-nodes" title="Lien direct vers le titre">​</a></h4><p>The OPCHDA connector retrieves values from specific addresses. Addresses (called node ID, or just node) are organized in
namespaces, in a tree-like structure. These can be added in the <em>Points section</em> (in the upper right corner).</p><p>To request a data, specify the following fields:</p><ul><li>Point ID</li><li>Node ID</li><li>Scan group</li></ul><p>The Node ID matches the path of the data in the appropriate namespace in the OPCHDA server. The point ID will be used
when sent to North connectors. It can be the same as the Node ID, but it allows friendlier names to manage.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Pagination des documents"><a class="pagination-nav__link pagination-nav__link--prev" href="/fr/docs/guide/south-connectors/opcua"><div class="pagination-nav__sublabel">Précédent</div><div class="pagination-nav__label">OPCUA</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/fr/docs/guide/south-connectors/modbus"><div class="pagination-nav__sublabel">Suivant</div><div class="pagination-nav__label">Modbus</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#opchda-connector" class="table-of-contents__link toc-highlight">OPCHDA connector</a><ul><li><a href="#hda-agent-section" class="table-of-contents__link toc-highlight">HDA Agent section</a></li><li><a href="#connection-and-network" class="table-of-contents__link toc-highlight">Connection and network</a></li><li><a href="#accessing-data" class="table-of-contents__link toc-highlight">Accessing data</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/fr/docs/guide/">User Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/fr/docs/developer/">Developer Guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/showcase/oibus-by-optimistik" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/OptimistikSAS/OIBus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Optimistik. Built with Docusaurus.</div></div></div></footer></div>
<script src="/fr/assets/js/runtime~main.8b2aa1e1.js"></script>
<script src="/fr/assets/js/main.b09d7cce.js"></script>
</body>
</html>